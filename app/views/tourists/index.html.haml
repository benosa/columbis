- set_current_width(:small)
- content_for(:body_class) { 'panel' }

- title t('.tourists')

-# content_for :top do
  .switch_type
    %a.client.potential-switcher{:id => 'clients', :href => "#", :class => params[:potential].blank? && 'active',
      :data => { :param=> 'potential', :filter => 1 }}
      %span= t('.clients')
    %a.client.potential-switcher{:id => 'clients_potential', :href => "#", :class => params[:potential].present? && 'active',
      :data => { :param=> 'potential', :filter => 1, :value => 1 }}
      %span= t('.potential_clients')

- content_for :top do
  .switch_type
    %a.client.potential-switcher{ :href => tourists_url, :class => params[:potential].blank? && 'active', id: 'clients' }
      %span= t('.clients')
    %a.client.potential-switcher{ :href => tourists_url(potential: 1), :class => params[:potential].present? && 'active', id: 'clients_potential'}
      %span= t('.potential_clients')

  %form.filter
    - unless params[:potential].present?
      = render partial: 'shared/search_field'

    - else
      = render partial: 'shared/search_field', locals: { filter_class: 'search small_filter' }

      = label_tag :user_id, t('.manager_filter')
      = select_tag :user_id,  options_from_collection_for_select(current_company.users.reject{ |u| u.role == 'admin' }, 'id', 'name_for_list', params[:user_id]), :prompt => t('all'), :class => 'filter_select', :data => { :param=> 'user_id', :filter => 1 }

= render 'list'

- content_for(:float_panel) do
  = link_to t('back'), :back, :class => 'back'
  = link_to t('.add_tourist'), params[:potential].blank? ? new_tourist_path : new_tourist_path(potential: 1), :class => 'add_operator'
